org: choliveira
app: aws-event-demo
custom: ${file(serverless/config/custom.yml)}
service: api-service # Need to add the app prefix in the service name, other wise will be confusing to identify the stack on cloudFormation
frameworkVersion: '3'

plugins:
  - serverless-plugin-typescript
  - serverless-dynamodb-local
  - serverless-offline

provider:
  name: aws
  runtime: nodejs16.x
  stage: ${self:custom.stage, self:custom.defaultStage}
  region: ${self:custom.region}
  environment:
    AWS_NODEJS_CONNECTION_REUSE_ENABLED: 1
  architecture: arm64
  timeout: 30
  logs:
    restApi: true

functions:
  - ${file(serverless/resources/lambda/post-payment.yml)}

useDotenv: true
